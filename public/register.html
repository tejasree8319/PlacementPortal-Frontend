<html>
  <head>
    <title>
      Register Form
    </title>
    <!-- <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
    <script> 
      $(function(){
        $("#includedContent").load("common.html"); 
      });
    </script> 
   <script>
      $(document).ready(function() {
        $('form').submit(function() {
          var Id = document.getElementById('userId').value;
          var password=document.getElementById('password').value;
          var UserType = document.getElementById('userType').value;
          var formData = {
            userId: Id,
            password:password,
            userType: UserType
          };
          alert(Id);

          $.ajax({
            type: 'post',
            url: 'http://localhost:8000/register',
            dataType: 'json',
            data: formData,
            success: function(response) {
              var register=JSON.stringify(response);
              localStorage.setItem('userInfo', register);
              alert('Local success callback');
              var user=localStorage.getItem('userInfo')
              var data=JSON.parse(user)
              window.location="/"+data.userType+"form.html"
            },
            error: function (xhr, ajaxOptions, thrownError) {
             alert(xhr.status);
             alert(xhr.responseText);
             alert(thrownError);
            }
            // error: function(jqXHR, status, err) {
            //   console.log('Error');
            //   alert('Error');
            // }
          });
        });
      });
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <!-- <a class="navbar-brand" href="register.html">Logout</a> -->
        </div>
        <ul class="nav navbar-nav">
          <li><a> </a></li>
          <li><a> </a></li>
          <li><a> </a></li>
          <li><a href="login.html">Home</a></li>
          <li><a href="register.html">Register</a></li>
          <li><a href="studentlist.html">Students</a></li>
          <li><a href="facultylist.html">Faculty</a></li>
          <li><a href="joblist.html">Jobs</a></li>
          <li><a href="placementlist.html">Placements</a></li>
          <li><a href="companieslist.html">Companies</a></li>
          <li><a href="traininglist.html">Trainings</a></li>
          <li><a href="feedbacklist.html">Feedbacks</a></li>
          <li><a href="email.html">Email</a></li>
          <li><a>Logout</a></li>

          <!-- <li class="active"><a href="new_customer.html">New Customer</a></li> -->
        </ul>
      </div>
    </nav>
    <div id="includedContent"></div>
    <!-- <div class="sidenav">
      <br />
      <br />
      <a href="login.html"> Home</a>
      <a href="regisetr.html">Register</a>
      <a href="studentlist.html">Students</a>
      <a href="facultylist.html">Faculty</a>
      <a href="joblist.html">Jobs</a>
      <a href="placementlist.html">Placements</a>
      <a href="feedback.html">Feedback</a>
      <a href="studentform.html">Student Form</a>
      <a href="facultyform.html">Faculty Form</a>
      <a href="jobform.html">Job Form</a>
      <a>Logout</a>
    </div> -->
    <form action="http://localhost:8000/register" method="POST">
      <br />
      <br />
      <br />
      <br />
      <br />
      <h1 style="text-align:center">Register Form</h1 style="text-align:center">
      <br/>
      <!-- <label for="uId">UserId:</label><br /> -->
      <input
        type="text"
        id="userId"
        name="userId"
        placeholder="UserId"
        required
      /><br />
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Password"
        required
      /><br />
      <select id="userType" name="userType" required>
        <option value="" disabled selected hidden>UserType</option>

        <option value="student">student </option>
        <option value="faculty">faculty </option>
      </select>

      <br />
      <br />
      <input type="submit" value="Submit" id="input-submit" />
    </form>
  </body>
</html>
